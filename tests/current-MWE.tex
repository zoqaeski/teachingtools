    \documentclass{article}
    \usepackage{xparse}
    \usepackage{expl3}
    \usepackage{l3keys2e}
    \usepackage{chngcntr}

    \setlength\parindent{0pt}

    \begin{document}

    \ExplSyntaxOn

    \newcounter{question}
    \keys_define:nn { teachingtools } {
        reset-question .default:n = section,
        reset-question .choices:nn = {
            part, chapter, section, subsection, subsubsection, paragraph, subparagraph
        }
        {
            \counterwithin*{question}{ \tl_to_str:N \l_keys_choice_tl }
        },
        reset-question / none .code:n = {
            \counterwithout*{question}{section}
        },
    }

    \tl_new:N \l_@@_question_prefix_tl
    \keys_define:nn { teachingtools } {
        question-prefix .choices:nn = { 
            part, chapter, section, subsection, subsubsection, paragraph, subparagraph
        }
        {
            \tl_set:Nn \l_@@_question_prefix_tl { \arabic{ \tl_to_str:N \l_keys_choice_tl } }
            \keys_set:nn { teachingtools } { reset-question = \tl_to_str:N \l_keys_choice_tl }
        },
        question-prefix / none .code:n = {
            \tl_gclear:N \l_@@_question_prefix_tl 
        },
        question-prefix .default:n = none,
        question-prefix .initial:n = none,
    }
    \tl_put_right:Nn \l_@@_question_title_tl { \l_@@_question_prefix_tl }

    \NewDocumentCommand \ttsetup { m } {
        \keys_set:nn { teachingtools } {#1}
    }
    \ExplSyntaxOff


    \ttsetup{
      % reset-all = false,
      % reset-question = subsection,
        question-prefix = section
    }


    \end{document}
